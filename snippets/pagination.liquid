{% comment %}
  Pagination Component
{% endcomment %}

<nav class="pagination" aria-label="Pagination">
  <div class="pagination__container">
    {% if paginate.previous %}
      <a href="{{ paginate.previous.url }}" class="pagination__link pagination__link--prev" aria-label="Previous page">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Previous</span>
      </a>
    {% else %}
      <span class="pagination__link pagination__link--prev pagination__link--disabled" aria-disabled="true">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M10 12L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Previous</span>
      </span>
    {% endif %}

    <div class="pagination__pages">
      {% for part in paginate.parts %}
        {% if part.is_link %}
          <a href="{{ part.url }}" class="pagination__page">{{ part.title }}</a>
        {% else %}
          {% if part.title == paginate.current_page %}
            <span class="pagination__page pagination__page--current" aria-current="page">{{ part.title }}</span>
          {% else %}
            <span class="pagination__page pagination__page--dots">{{ part.title }}</span>
          {% endif %}
        {% endif %}
      {% endfor %}
    </div>

    {% if paginate.next %}
      <a href="{{ paginate.next.url }}" class="pagination__link pagination__link--next" aria-label="Next page">
        <span>Next</span>
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 4L10 8L6 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    {% else %}
      <span class="pagination__link pagination__link--next pagination__link--disabled" aria-disabled="true">
        <span>Next</span>
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 4L10 8L6 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </span>
    {% endif %}
  </div>

  <div class="pagination__info">
    Showing {{ paginate.current_offset | plus: 1 }} - 
    {% if paginate.next %}
      {{ paginate.current_offset | plus: paginate.page_size }}
    {% else %}
      {{ paginate.items }}
    {% endif %}
    of {{ paginate.items }} products
  </div>
</nav>

{% stylesheet %}
  .pagination {
    margin-top: var(--spacing-4xl);
    padding-top: var(--spacing-2xl);
    border-top: 1px solid var(--border-color);
  }

  .pagination__container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--spacing-md);
    flex-wrap: wrap;
  }

  .pagination__link {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-sm) var(--spacing-md);
    color: var(--sage-green);
    text-decoration: none;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    font-weight: 500;
    transition: all var(--transition-base);
  }

  .pagination__link:hover:not(.pagination__link--disabled) {
    background-color: var(--sage-green);
    color: var(--white);
    border-color: var(--sage-green);
  }

  .pagination__link--disabled {
    opacity: 0.4;
    cursor: not-allowed;
    color: rgba(26, 26, 26, 0.4);
  }

  .pagination__pages {
    display: flex;
    align-items: center;
    gap: var(--spacing-xs);
  }

  .pagination__page {
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 40px;
    height: 40px;
    padding: 0 var(--spacing-sm);
    color: var(--text);
    text-decoration: none;
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    font-weight: 500;
    transition: all var(--transition-base);
  }

  .pagination__page:hover:not(.pagination__page--current):not(.pagination__page--dots) {
    background-color: rgba(74, 124, 44, 0.1);
    border-color: var(--sage-green);
    color: var(--sage-green);
  }

  .pagination__page--current {
    background-color: var(--sage-green);
    color: var(--white);
    border-color: var(--sage-green);
  }

  .pagination__page--dots {
    border: none;
    cursor: default;
  }

  .pagination__info {
    text-align: center;
    margin-top: var(--spacing-lg);
    font-size: var(--body-small);
    color: rgba(26, 26, 26, 0.6);
  }

  @media (max-width: 768px) {
    .pagination__container {
      gap: var(--spacing-sm);
    }

    .pagination__link {
      padding: var(--spacing-xs) var(--spacing-sm);
      font-size: var(--body-small);
    }

    .pagination__page {
      min-width: 36px;
      height: 36px;
      font-size: var(--body-small);
    }
  }
{% endstylesheet %}
